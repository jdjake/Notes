\input{../../style.tex}

\title{Category Theory}
\author{Jacob Denson}

\begin{document}

\pagenumbering{gobble}
\maketitle
\tableofcontents

\chapter{Basic Definitions}

\pagenumbering{arabic}

Category theory is the language of transformations. A great many families of mathematical objects share some common formal behaviour when considering the functions defined between them. Rather than looking at a single object, be it a single group, a particular ring, or a particular set, we look at the class of all such objects, and describe the functions, or morphisms connecting them. The structure of these morphisms often describes the structure of the mathematical objects they map between. Category theory provides a common language to talk about general families of morphisms between mathematical objects.

A \emph{category} $\mathsf{C}$ consists of a family of objects $\text{Obj}(\mathsf{C})$, and for each pair of objects $A,B$, a collection of morphisms $\text{Mor}(A,B)$, such that $\text{Mor}(A_0,B_0) \cap \text{Mor}(A_1,B_1) = \emptyset$ if $A_0 \neq A_1$ or $B_0 \neq 1$. We might write a morphism $f \in \text{Mor}(A,B)$ as $f: A \to B$. For each triple $A,B,C$, we also have a composition operation
%
\[ \circ: \text{Mor}(B,C) \times \text{Mor}(A,B) \to \text{Mor}(A,C) \]
%
which is associative, in the sense that for three morphisms $f: A \to B$, $g: B \to C$, and $h: C \to D$,
%
\[ h \circ (g \circ f) = (h \circ g) \circ f. \]
%
Furthermore, for any object $A$, we have a morphism $\text{id}_A: A \to A$ such that $\text{id}_A \circ f = f$ for any $f: X \to A$, and $g \circ \text{id}_A = g$ for any $g: A \to X$ (a morphism with this property is clearly unique). Elements of $\text{Mor}(A,A)$ will be known as \emph{endomorphisms}, also denoted $\text{End}(A)$. With the operation of composition, $\text{End}(A)$ becomes a monoid, and all monoids can be realized as endomorphisms over some object in a particular category.

\begin{example}
    Perhaps the most basic category is the category $\mathsf{Set}$, whose objects are sets, and whose morphisms are set-theoretic maps between them.
\end{example}

\begin{example}
    Algebra makes extensive use of category theory. The category $\mathsf{Grp}$ of groups has groups as objects, and whose morphisms are group homomorphisms. One similarily defines the categories $\mathsf{Ring}$ and $\mathsf{Vect}$ of unital rings and vector spaces over a fixed field, with unital ring homomorphisms and linear transformations as morphisms.
\end{example}

\begin{example}
    Category theory is also useful in geometry. Let $\mathsf{Top}$ be the category of topological spaces, whose morphisms are continuous maps. One may specialize to the category $\mathsf{Man}$ of manifolds, or even further to $\mathsf{Man}^\infty$, which consists of smooth manifolds with smooth maps as morphisms. Category theory was first introduced to study algebraic topology, with the natural category to study being $\mathsf{Toph}$, whose objects are topological spaces and whose morphisms are homotopy classes of maps.
\end{example}

\begin{example}
    If $X$ is a partially ordered set, then $X$ has the structure of a category such that, if $x \leq y$, then there is a unique morphism from $x$ to $y$. We can also consider the category of \emph{all} partially ordered sets $\mathsf{Poset}$, where a morphism between two posets $X$ and $Y$ is an order preserving map $f: X \to Y$. A particularly important subcategory of $\mathsf{Poset}$ in combinatorial aspects of algebraic geometry is the \emph{simplicial category} $\Delta$, which is just the full subcategory of ordered sets $\{ 1, \dots, N \}$ for all $1 \leq N < \infty$.
\end{example}

\begin{example}
    The category {\sf Graph}, whose objects consist of graphs, and whose morphisms map edges to edge, and vertices to vertices, such that the vertices of an edge are preserved.
\end{example}

\begin{example}
    Often useful in certain categories are categories containing finitely many objects. We let $\mathsf{0}$ denote the empty category, with no objects, and no morphisms. We let $\mathsf{1}$ denote the category with a single object, and a single morphism, the identity map on that object. We let $\mathsf{2}$ denote the category with two objects, and only a single morphism that isn't the identity morphism. We let $\mathsf{3}$ denote the category of three objects with three non-identity morphisms forming a commuting triangle.
\end{example}

Given a category $\mathsf{C}$, consider the reverse category $\mathsf{C}^{r}$, with the same objects, and with $\text{Hom}_{\mathsf{C}^r}(A,B) = \text{Hom}_{\mathsf{C}}(B,A)$. This is often useful since certain categorical constructions can be applied to $\mathsf{C}^r$ to obtain information about $\mathsf{C}$.

\begin{example}
    The category $\mathsf{Set}^r$ is equivalent to the category of complete atomic Boolean algebras with morphisms that preserve $\wedge$ and $\vee$. If we denote this category by $\mathsf{CBA}$, then for each set $S$ we associate the complete atomic Boolean algebra $2^S$, and with each map $f: S \to T$, we have a map $f^{-1}: 2^T \to 2^S$, which preserves unions and intersections. It is simple to see all maps from $2^T$ to $2^S$ preserving unions and intersections corresponds to a unique map from $S$ to $T$, and so the fact that this is an equivalence follows because any Boolean algebra $B$ is isomorphic to $2^A$, where $A$ is the set of atoms of $B$.
\end{example}

\begin{example}
    The category $\mathsf{Ab}^r$ is equivalent to the category of compact abelian groups with continuous group homomorphisms as morphisms. With each abelian group $A$ we associate the group $\widehat{A} = \text{Hom}(A,\mathbf{T})$ of homomorphisms into the circle group. We can give $\widehat{A}$ a topology as a closed subset of $\mathbf{T}^A$, which is therefore compact. With each homomorphism $f: A_1 \to A_2$ we get a continuous homomorphism $f^*: \widehat{A_2} \to \widehat{A_1}$. The equivalence here is what is known as \emph{Pontrayagin duality}.
\end{example}

An \emph{isomorphism} in a category is a morphism $f:A \to B$ for which there is $g: B \to A$ such that $g \circ f = \text{id}_A$ and $f \circ g = \text{id}_B$. It follows trivially that $g$ is unique, for if $h$ is another inverse, then
%
\[ g = g \circ \text{id}_B = g \circ f \circ h = \text{id}_A \circ h = h \]
%
we denote $g$ by $f^{-1}$. Examples of isomorphism are algebraic isomorphisms, bijective maps, homeomorphisms, and diffeomorphisms. The set of isomorphisms from an object $A$ to itself will be denoted $\text{Aut}(A)$. It is a group, and all groups are isomorphic to automorphisms over some object in a category.

An isomorphism $f: A \to B$ really does identify $A$ and $B$ in a categorical sense; for any object $C$, $f$ induces natural set-theoretic maps
%
\[ f_*: \text{Hom}(C,A) \to \text{Hom}(C,B) \quad\text{and}\quad f^*: \text{Hom}(B,C) \to \text{Hom}(A,C) \]
%
such that for $g: C \to A$, $f_*(g) = f \circ g$, and for $g: B \to C$, $f^*(g) = g \circ f$. It is clear that such maps are bijections with inverse maps given by $(f^{-1})_*$ and $(f^{-1})^*$. Similarily, the map $g \mapsto f \circ g \circ f^{-1}$ gives a bijection between $\text{Aut}(A)$ and $\text{Aut}(B)$. You may view these maps as `changes in coordinates'.

By an \emph{operation} or \emph{representation} of a group $G$ on an object $A$ in a category we mean a group homomorphism $f: G \to \text{Aut}(A)$. This encompasses many natural operations studied in math. Linear representations are representations where $A$ is a vector space, or permutation representations, when $A$ is an object in the category of sets. If $A$ is a Hilbert space, whose morphisms are isometries, we obtain the theory of unitary representations.

Other useful classes of maps to define in category theory are \emph{sections}, morphisms $f$ which are \emph{left invertible}, and \emph{retractions}, morphisms which are \emph{right invertible}. Closely related to these objects are \emph{monomorphisms} $f$, such that $f^*$ is injective for any object $C$, and \emph{epimorphisms}, maps $g$ such that $g_*$ is injective for any object $C$.

If $F$ is a functor, and $f$ is a retraction or section, then so too is $Ff$. If $F$ is a faithful functor, then it preserves monomorphisms and epimorphisms. The class of monomorphisms is also closed under composition, and if $f \circ g$ is a monomorphism, then $g$ is a monomorphism. Similarily, the class of epimorphisms is closed under compositions, and if $f \circ g$ is an epimorphism, then $f$ is an epimorphism. The next two examples show that monomorphisms and epimorphisms

\begin{example}
    In the category $\mathsf{Set}$, the momorphisms are precisely the injective maps, and the epimorphisms are precisely the surjective maps. If $F: \mathsf{C} \to \mathsf{Set}$ is a faithful functor, $f \in \text{Mor}(A,B)$, and $F(f)$ is injective, then $f$ is a monomorphism. Similarily, if $F(f)$ is surjective, then $f$ is an epimorphism. However, it is not true that if $f$ is a monomorphism, then $F(f)$ is injective, nor that $F(f)$ is surjective if $f$ is an epimorphism, as the next example shows, among other counterexamples. Let $F: \mathsf{Ring} \to \mathsf{Set}$ be the map associating each ring $A$ with it's underlying set of elements $F(A)$, and with each homomorphism $f: A \to B$ the set theoretic map $F(f): F(A) \to F(B)$. Let $f: \ZZ \to \QQ$ be the inclusion map.
    %
    \begin{itemize}
        \item The map $f$ is a monomorphism, since it is injective.
        \item The map $f$ is certainly not surjective, but it is an epimorphism.
        \item The map $f$ has no right nor left inverse. Thus $f$ is a monomorphism and an epimorphism, but is \emph{not} an isomorphism.
    \end{itemize}
    %
    Similar examples can be constructed to find monomorphisms that are not injective.
\end{example}

Natural choices of such functors $F$ as in the example above exist in most categories we work with, since the mathematical objects we study are sets equipped with additional structure, and the morphisms maps between these sets preserving structure; it is then easy to consider a functor $F: \mathsf{C} \to \mathsf{Set}$ which `forgets' this additional structure and considers only the underlying set theoretic operations; this functor is often called a \emph{forgetful functor}. More generally, a forgetful functor obtained from removing some, but perhaps not all, structure from an object (for instance there is a forgetful functor from $\mathsf{Ring}$ to $\mathsf{Ab}$).

\section{Functors and Natural Transformations}

The main reason to rigorously define groups is to define what a homomorphism is, so we can consider groups with similar structure. Categories were invented to define functors and natural transformations. A \emph{covariant functor} $F$ between two categories $\mathsf{C}$ and $\mathsf{D}$ is an association of an object $X$ in $\mathsf{C}$ with an object $F(X)$ in $\mathsf{D}$, and associating a morphism $f: X \to Y$ with a morphism $F(f): F(X) \to F(Y)$, such that $F(g \circ f) = F(g) \circ F(f)$. A \emph{Contravariant Functor} with each morphism $f: X \to Y$ a morphism $F(f): F(Y) \to F(X)$ such that $F(g \circ f) = F(f) \circ F(g)$. Functors are the natural `morphisms' of categories. In particular, we can use them to form a category whose objects are themselves categories, denoted $\mathsf{Cat}$. A functor is \emph{faithful} if the map between morphisms is injective for each pair of objects, and \emph{full} if the map is surjective for each pair of objects. A subcategory of a category is called full if the inclusion functor is full.

\begin{example}
    One of the most well known functors is the operation of taking a dual space $V^*$ to a given vector space $V$. If $f: V \to W$, we obtain a map $f^*: W^* \to V^*$ by defining $f^*(\lambda) = \lambda \circ f$; thus taking the dual of a vector space is a contravariant functor from $\mathsf{Vect}$ to itself.
\end{example}

\begin{example}
    In almost every category, the objects are sets equipped with some additional structure. For instance, a group is a set equipped with an operation, a topological space a set equipped with a family of open sets. A morphism is then a function between sets with some additional structure. This leads to the notion of a {\it forgetful functor} into a category of sets. Given a category $\mathsf{C}$, a forgetful functor is a faithful functor $F: \mathsf{C} \to \textsf{Set}$. Thus an object $A$ in $\mathsf{C}$ corresponds to some set $F(A)$, and morphisms between two objects $A$ and $B$ are represented by functions between $F(A)$ and $F(B)$. It is known as a forgetful functor because it forgets information about the underlying category $\mathsf{C}$, giving us only the function representation of the morphisms in the category.
\end{example}

\begin{example}
    Functors were first recognized explicitly in the field of algebraic topology, where they naturally arise when describing invariants of spaces. We often have a functor from {\sf Top} to some category of algebraic objects, for instance, the fundamental group as a functor into the category {\sf Grp}, the homology groups as a functor into {\sf Ab}, and the cohomology groups into {\sf Ring}.
\end{example}

Given two categories $\mathsf{C}$ and $\mathsf{D}$, we can construct a category $\mathsf{C} \times \mathsf{D}$, whose objects consist of pairs $(A,B)$, where $A$ is an object in $\mathsf{C}$ and $B$ is an object in $\mathsf{D}$, and a morphism between $(A_0, B_0)$ and $(A_1,B_1)$ is a pair of morphisms from $A_0$ to $A_1$ and $B_0$ to $B_1$. Then $\mathsf{C} \times \mathsf{D}$ satisfies the universal properties of a product in $\mathsf{Cat}$. A functor with domain a product of $\mathsf{C}$ or $\mathsf{C}^r$ with $\mathsf{D}$ or $\mathsf{D}^r$ is known as a \emph{bifunctor}, covariant or contravariant in the various variables. One can verify that if for each $B \in \mathsf{D}$, we have a functor $R_B$ with domain $\mathsf{C}$, and for each $A \in \mathsf{C}$, we have a functor $L_A$ on $\mathsf{D}$ such that $L_A(B) = R_B(A)$ for all $A$ and $B$, then we can set $F(A,B) = L_A(B) = R_B(A)$. The map $F$ extends to a bifunctor if and only if the following property holds; for each $f: A_0 \to A_1$ and $g: B_0 \to B_1$, $L_{A_1}(g) \circ R_{B_0}(f) = R_{B_1}(f) \circ L_{A_0}(g)$.

\begin{example}
    Given a category $\mathsf{C}$, we have a bifunctor from $\mathsf{C} \times \mathsf{C}$ to {\sf Set} obtained by associating with each pair of objects $A$ and $B$ the set $\text{Mor}(A,B)$, which is covariant in $B$ and contravariant in $A$. To verify this is a bifunctor, set $L_A(B) = \text{Mor}(A,B)$, and given $g: B_1 \to B_2$, let
    %
    \[ L_A(g) = g_*|_A: \text{Mor}(A,B_1) \to \text{Mor}(A,B_2). \]
    %
    Similarily, we can define $R_B(A) = \text{Mor}(A,B)$, and for $f: A_1 \to A_2$ let $R_B(A) = f^*|_B : \text{Mor}(A_2,B) \to \text{Mor}(A_1,B)$. To show this gives rise to a bifunctor it suffices to verify that for each pair of morphisms $f: A_0 \to A_1$ and $g: B_0 \to B_1$,
    %
    \[ g_*|_{A_1} \circ f^*|_{B_0} = f^*|_{B_1} \circ g_*|_{A_0} \]
    %
    but this is certainly the case by the associatity of maps in a category (for any $h: A_1 \to B_0$ both sides are just $g \circ h \circ f$). The dual functor is very similar to this functor, associating with each vector space $V$ the dual space $V^* = \text{Mor}(V,K)$. The difference here is that $\text{Mor}(V,K)$ is equipped with additional structure; it forms a vector space rather than just a set.
\end{example}

Natural transformations are the natural maps relating functors to each other. Given two functors $F$ and $G$ between two categories $\mathsf{C}$ and $\mathsf{D}$, a natural transformation is an association with each object $X \in \mathsf{C}$ a morphism $\eta_X: F(X) \to G(X)$, such that for each morphism $f: X \to Y$ in $\mathsf{C}$, $\eta_Y \circ F(f) = G(f) \circ \eta_X$, i.e. such that the diagram
%
\begin{center}
\begin{tikzcd}
    F(X) \arrow{r}{F(f)} \arrow{d}[left]{\eta_X} & F(Y) \arrow{d}{\eta_Y}\\
    G(X) \arrow{r}{G(f)} & G(Y)
\end{tikzcd}
\end{center}
%
commutes. Intuitively, natural transformations are morphisms between two families of objects which are `invariant under changes in coordinates'.

Given the definition of a natural transformation, We may therefore consider isomorphisms of functors, known as \emph{natural equivalences}. An \emph{equivalence of categories} is a functor $F$ with an `inverse functor' $G$ such that $F \circ G$ and $G \circ F$ are both equivalence to the identity functor. Often, this is a better notion of saying two categories are `equal' then the two categories being isomorphic (a functor with an inverse), which is too strong a condition to come up in practice.

\begin{example}
    The classic example of a natural transformation is the embedding of a vector space $V$ in it's double dual $V^{**}$. We consider the functor on $\mathsf{Vect}$ which associates each vector space $V$ with $V^{**}$, and associates with each linear map $f: V \to W$ the linear map $f^{**}: V^{**} \to W^{**}$ defined by setting $f^{**}(\phi) = \phi \circ f^*$. For each vector space $V$ we then have an embedding of $V$ in $V^{**}$ via the `double dual map' which associates with each vector $v \in V$ the element $v^{**} \in V^{**}$ with $v^{**}(f) = f(v)$. This gives a family of maps $\eta_V: V \to V^{**}$, which we claim is a natural transformation between the identity functor and the double dual functor. Given $f: V \to W$, we have $f(v)^{**} = f^{**}(v^{**})$, because if $\phi: W \to K$, then
    %
    \[ f^{**}(v^{**})(\phi) = (v^{**} \circ f^*)(\phi) = v^{**}(\phi \circ f) = \phi(f(v)) = f(v)^{**}(\phi) \]
    %
    Thus $v \mapsto v^{**}$ is a natural transformation. Restricted to the full subcategory of finite dimensional vector spaces, this gives a natural equivalence.
\end{example}

\begin{example}
    By the same note, there is no non-zero natural transformation between the identity map and the dual functor $V \mapsto V^*$. Suppose $\eta_V: V \to V^*$ exists, such that for any $f: V \to W$, $f^* \circ \eta_W \circ f = \eta_V$. If we consider $\eta_K: K \to K^*$, then being one dimensional, there exists a number $\lambda$ such that $\eta_K(t)(s) = \lambda ts$. If $f: K \to K$ is given by $f(t) = \gamma t$, then $f^*(\phi) = \gamma \phi$, and so
    %
    \[ \lambda ts = \eta_V(t)(s) = f^*(\eta_V(f(t)))(s) = \lambda \gamma^2 ts \]
    %
    Since $\gamma$, $t$, and $s$ can be arbitrary, $\lambda = 0$. But now for any $\phi: V \to K$, we conclude that
    %
    \[ \eta_V = \phi^* \circ \eta_K \circ \phi = \phi^* \circ 0 \circ \phi = 0 \]
    %
    If we instead work over the category of vector spaces with a fixed, nondegenerate bilinear map, and whose morphisms are maps preserving this bilinear map, then $V$ is naturally isomorphic to $V^*$ in this category. Similarily, if we consider the category of Hilbert spaces with morphisms as isometries, and the continuous dual space, then $V$ is naturally isomorphic to $V^*$, a fact often employed in functional analysis.
\end{example}

Consider a natural transformation $\eta$ between two bifunctors $F$ and $G$ from $\mathsf{C} \times \mathsf{D} \to \mathsf{E}$. Such a transformation associates with each pair of objects $A$ and $B$ a map $\eta(A,B): F(A,B) \to G(A,B)$. Given any such association, we say it is \emph{natural in $A$} if for each fixed $B$ the map $\eta(\cdot,B)$ is a natural transformation from the functor $F(\cdot,B)$ to the functor $G(\cdot,B)$. Similarily, we can say the functor is natural in $B$. It is useful that $\eta$ is natural in both variables if and only if it is a natural transformation. To see this, given any pair of functions $f: A_0 \to A_1$ and $g: B_0 \to B_1$, we consider the commutative diagram
%
\begin{center}
\begin{tikzcd}
    F(A_0,B_0) \arrow{r}{F(f)} \arrow{d}{\eta_{A_0B_0}} & F(A_1,B_0) \arrow{d}{\eta_{A_1B_0}} \arrow{r}{F(g)} & F(A_1,B_1) \arrow{d}{\eta_{A_1B_1}}\\
    G(A_0,B_0) \arrow{r}{G(f)} & G(A_1,B_0) \arrow{r}{G(g)} & G(A_1,B_1)
\end{tikzcd}
\end{center}
%
and we know the smaller squares commute by naturality in each variable, hence the entire rectangle commutes. This comes up most importantly in the theory of adjoints, where we have a natural bijection between $\text{Mor}(FA,B)$ and $\text{Mor}(A,GB)$ which is natural in each variable $A$ and $B$.

\begin{example}
    If $K$ is an algebraically closed field, the association with each affine variety $X$ the coordinate ring $K[X]$ is an equivalence of categories with the category of affine varieties and the category of reduced, finitely generated algebras over the field $K$. This is heavily exploited in algebraic geomtery.
\end{example}

\begin{example}
    If we let $\mathsf{C}$ be the full subcategory of $\mathsf{Vect}$ whose objects are the vector spaces $K^n$, for some $n \geq 0$, then $\mathsf{C}$ is naturally equivalent to the category of all finite dimensional vector spaces. $\mathsf{C}$ is a subcategory of the category of all finite dimensional vector spaces, so the embedding functor $i$. If we fix, for each vector space $V$, an isomorphism $f_V: V \to K^{\dim(V)}$ once and for all, then one verifies that the functor $G(V) = K^{\dim(V)}$, such that if $g: V \to W$, $G(g) = f_W \circ g \circ f_V^{-1}$. Then the maps $f_V$ and $f_W$ are obviously the required natural equivalences.
\end{example}

The last example generalizes to the following, providing a little bit more intuition about what it means for two categories to be equivalent.

\begin{theorem}
    A functor $F: \mathsf{C} \to \mathsf{D}$ is an equivalence of categories if and only if it is fully faithful and every object $B \in \mathsf{D}$ is isomorphic to $F(A)$ for some $A \in \mathsf{C}$.
\end{theorem}
\begin{proof}
    For each object $B$, pick $A_B$ and an isomorphism $f_B: B \to F(A_B)$. Assume for simplicity that if $B$ is in the image of $F$, then $F(A_B) = B$. If we define $G(B) = A_B$, then for each $g: B \to B'$, we have a morphism $G(g): A_B \to A_{B'}$ given by the unique morphism with the property that $F(G(g)) = f_{B'} \circ g \circ f_B^{-1}$. The maps $f_B$ are then a natural equivalence between the identity and $F \circ G$, since the required square obviously commutes. But since $G$ is also fully faithful, and every object in $\mathsf{C}$ is isomorphic to $G(B)$ for some object $A \in \mathsf{C}$ (since $F(A)$ is isomorphic to $F(G(F(A))$, $A$ is isomorphic to $(G \circ F)(A)$), we can apply the previous case to conclude that $G \circ F$ is naturally equivalent to the identity. Conversely, given a functor $F$ with an inverse $G$ with a natural equivalence $\eta$ from $G \circ F$ to $\text{id}_{\mathsf{C}}$, and an equivalence $\nu$ from $F \circ G$ to $\text{id}_{\mathsf{D}}$, we claim that $F$ is fully faithful. If $F(f) = F(g)$, then by the naturality of $\eta$ and $\nu$ we have a diagram
    %
    \begin{center}
    \begin{tikzcd}
        A \arrow[bend left=90,swap]{rr}{\text{id}_A} \arrow[swap]{d}{f} & (G \circ F)(A) \arrow[swap]{l}{\eta_A} \arrow{r}{\eta_A} \arrow{d}{} & A \arrow{d}{g} \\
        B & (G \circ F)(B) \arrow{l}{\eta_B} \arrow[swap]{r}{\eta_B} & B \arrow[bend left=90, swap]{ll}{\text{id}_B}
    \end{tikzcd}
    \end{center}
    %
    which is commutative because the two squares are commutative, and the upper and lower semicircles are commutative. From it, we conclude that $f = g$. This shows that $F$ is faithful if it has a left equivalence inverse. To show that it is full, we note that since $G$ has a left equivalence inverse, it is also faithful. Thus, given $g: F(A) \to F(B)$, finding $f$ such that $F(f) = g$ is equivalent to finding $f$ such that $(G \circ F)(f) = G(g)$. Since the maps $\eta_A$ and $\eta_B$ are isomorphisms, there certainly exists a morphism $f$ such that the diagram below commutes
    %
    \begin{center}
    \begin{tikzcd}
        A \arrow[bend left=90,swap]{rr}{\text{id}_A} \arrow[swap]{d}{(G \circ F)(f)} & (G \circ F)(A) \arrow[swap]{l}{\eta_A} \arrow{r}{\eta_A} \arrow{d}{f} & A \arrow{d}{G(g)} \\
        B & (G \circ F)(B) \arrow{l}{\eta_B} \arrow[swap]{r}{\eta_B} & B \arrow[bend left=90, swap]{ll}{\text{id}_B}
    \end{tikzcd}
    \end{center}
    %
    from which it follows that $(G \circ F)(f) = G(g)$, and the fully faithfulness of $F$ is established. If $B$ is an object in the codomain, then it is isomorphic to $(G \circ F)(B)$ by the isomorphism $\eta_B$, completing the proof.
\end{proof}

\begin{example}
    {\sf Set} is naturally equivalent to the subcategory of {\sf Set} consisting precisely of sets which are ordinals.
\end{example}

The composition of two natural transformations is verified to be natural by checking the diagram to be a natural transformation, so for any two categories $\mathsf{C}$ to $\mathsf{D}$, the family $[\mathsf{C},\mathsf{D}]$ of all functors from $\mathsf{C}$ to $\mathsf{D}$ forms a category, with morphisms the natural transformations. We let $\text{Nat}(F,G)$ be the family of all natural transformations between two functors $F$ and $G$. The isomorphisms in this category are precisely the natural equivalences between functors.

\begin{example}
    If $M$ is a monoid viewed as a category, the category $[M,\textsf{Set}]$ is the category of monoid actions on sets, with morphisms preserving the action of $M$. If $G$ is a group viewed as a category, and $A$ is a ring, then $[G,\textsf{Mod}_A]$ is the category of representations of $G$ over $A$ modules, with the morphisms the intwining operators.
\end{example}

\begin{example}
    The category $[1,\mathsf{C}]$ is isomorphic to $\mathsf{C}$. The objects of $[2,\mathsf{C}]$ can be seen as the arrows of the category $\mathsf{C}$, and whose morphisms consist of maps between the domain and codomain of arrows which cause the natural diagrams to commute. If $X$ is a `discrete' category, i.e. with no nonidentity arrows, then $[X,\mathsf{C}]$ is just the product category of $\mathsf{C}$, $X$ times over.
\end{example}

The family of natural transformations between functors has an additional `horizontal' way to compose two functors, aside from the normal composition of maps. Given two natural transformations $\eta: F_0 \to G_0$ and $\psi: F_1 \to G_1$ between functors $F_0$ and $G_0$ from $\mathsf{C}$ to $\mathsf{D}$ and $F_1$ and $G_1$ from $\mathsf{D}$ to $\mathsf{E}$, we can form the composition $F_1 \circ F_0$ and $G_1 \circ G_0$. For any object $A$, we have a commutative diagram
%
\begin{center}
\begin{tikzcd}
    (F_1 \circ F_0)(A) \arrow{r}{\psi_{F_0(A)}} \arrow{d}{F_1(\eta_A)} & (G_1 \circ F_0)(A) \arrow{d}{G_1(\eta_A)}\\
    (F_1 \circ G_0)(A) \arrow{r}{\psi_{G_0(A)}} & (G_1 \circ G_0)(A)
\end{tikzcd}
\end{center}
%
which commutes because $\psi$ is natural. The composition of either of the two directions is denoted by $(\eta \cdot \psi)_A: (F_1 \circ F_0)(A) \to (G_1 \circ G_0)(A)$. It is a natural transformation, because given any map $f: A \to B$, we can construct the diagram
%
\begin{center}
\begin{tikzcd}
    (F_1 \circ F_0)(A) \arrow[bend left=30,swap]{rr} \arrow{rd} \arrow{r} \arrow{d} & (G_1 \circ F_0)(A) \arrow{d} \arrow[bend left=30,swap]{rr}     & (F_1 \circ F_0)(B) \arrow{rd} \arrow{r} \arrow{d} & (G_1 \circ F_0)(B) \arrow{d}\\
    (F_1 \circ G_0)(A) \arrow{r} \arrow[bend right=30,swap]{rr} & (G_1 \circ G_0)(A) \arrow[bend right=30,swap]{rr} & (F_1 \circ G_0)(B) \arrow{r} & (G_1 \circ G_0)(B)\\
\end{tikzcd}
\end{center}
%
the two `circles' commute because $\eta$ is natural, the two squares commute because $\psi$ is natural, and the lower and upper curved lines commute also because $\psi$ is natural. This shows the entire diagram is commutative.

Thus we have two operations on natural transformations, vertical and horizontal composition. They are both easily verified to be associative, and the identity natural transformation acts as the identity under both operations. The most interesting relation is the `interchange law'
%
\[ (\psi_1 \cdot \psi_0) \circ (\eta_1 \cdot \eta_0) = (\psi_1 \circ \eta_1) \cdot (\psi_0 \circ \eta_0) \]
%
which asserts that `vertical composition' and `horizontal composition' commutes with one another. It is easily verified because both sides of the relation are the diagonal of the following diagram
%
\begin{center}
\begin{tikzcd}
    F_1(F_0(A)) \arrow{r} \arrow{d} \arrow{rd} & F_1(G_0(A)) \arrow{r} \arrow{d} & F_1(H_0(A)) \arrow{d}\\
    G_1(F_0(A)) \arrow{r} \arrow{d} & G_1(G_0(A)) \arrow{rd} \arrow{r} \arrow{d} & G_1(H_0(A)) \arrow{d}\\
    H_1(F_0(A)) \arrow{r} & H_1(G_0(A)) \arrow{r} & H_1(H_0(A))
\end{tikzcd}
\end{center}
%
Thus we have two products, defined on a certain subset of pairs of natural transformations, satisfying the interchange law when both sides of the law make sense. This horizontal product is often called the \emph{Godement Product}.

\section{Comma Categories}

We shall make common use of a certain type of construction. Given any category, we may form a new category whose objects consist of morphisms in the original category, and a morphism between two morphisms $f: A_0 \to B_0$ and $g: A_1 \to B_1$ is a pair of maps $\phi_A: A_0 \to A_1$ and $\phi_B: B_0 \to B_1$ such that
%
\begin{center}
\begin{tikzcd}
    A_0 \arrow{r}{f} \arrow{d}{\phi_A} & B_0 \arrow{d}{\phi_B}\\
    A_1 \arrow{r}{g} & B_1
\end{tikzcd}
\end{center}
%
commutes. This category is really just $[\mathsf{2},\mathsf{C}]$. There are many variations to this category. For instance, we can fix an object $A$ in the category, and consider the category $A \downarrow \mathsf{C}$ whose objects are all morphisms with $A$ as a domain, and such that a morphism between $f: A \to B$ and $g: A \to C$ is a morphism $h: B \to C$ such that $h \circ f = g$. This is known as a \emph{comma category}. Similarily, we let $\mathsf{C} \downarrow A$ denote the category whose objects are morphisms with codomain $A$, and such that a morphism between $f: B \to A$ and $g: C \to A$ is $h: B \to C$ such that $f = h \circ g$, so that the diagram
%
\begin{center}
\begin{tikzcd}
    B \arrow{rr}{h} \arrow{rd}[below]{f} & & C \arrow{ld}{g}\\
    & A &
\end{tikzcd}
\end{center}
%
commutes. We use these types of constructions on categories to find a more varied class of universal objects involving morphisms between a fixed family of objects.

\begin{example}
    If $*$ is a one point set, then $* \downarrow \mathsf{Set}$ is the category of pointed sets. Similarily, $\mathbf{Z} \downarrow \mathbf{Ab}$ is the category of abelian groups with a specified element. Conversely, there is a unique morphism from any set to $*$, so $\mathsf{Set} \downarrow *$ is isomorphic to $\mathsf{Set}$. The category $\mathsf{Ring} \downarrow \mathbf{Z}$ are rings $A$ equipped with a morphism $\varepsilon: A \to \mathbf{Z}$, known as an {\it augmentation}, and with morphisms preserving the augmentation.
\end{example}

\begin{example}
    If $A$ is a commutative ring, then $A \downarrow \mathsf{CRing}$ is the category of commutative algebras over $A$.
\end{example}

Later on, given a functor $F: \mathsf{C} \to \mathsf{D}$ and an object $A$ in $\mathsf{D}$, we will have need to consider a similar category $A \downarrow F$, which is similar to the category $A \downarrow \mathsf{D}$. It consists of pairs $(f,B)$, where $f: A \to F(B)$ is a morphism, and the morphisms between arrows $(f,B)$ and $(g,C)$ are $h: B \to C$ such that $F(h)$ causes the obvious diagram to commute. Similarily, we may define $F \downarrow A$ for an object $A \in \mathsf{D}$ consisting of $(f,B)$ with $f: F(B) \to A$ a morphism. Even more generally, given two functors $F$ and $G$ with a common codomain, we can define the category $F \downarrow G$, whose objects consist of $(A,B,f)$ with $f: FA \to GB$, and whose morphisms between $(A,B,f)$ and $(C,D,g)$ are pairs of maps $g: A \to C$ and $h: B \to D$ such that the diagram obtained from $f$, $F(g)$, and $G(h)$ commute.

\begin{example}
    If $F: \mathsf{C} \to \mathsf{Set}$ is a forgetful functor, then for each set $X$ the category $X \downarrow F$ consists of maps from $X$ to $F(A)$, for any $A \in \mathsf{C}$. It is essentially the maps from a set to the underlying set of an object $A$.
\end{example}

\section{Free Categories and Quotient Categories}

We now describe some constructions we can perform on categories which enable us to describe more advanced universal properties more naturally. Let $G$ be a directed graph. By the \emph{free category} on $G$ we mean the category $C(G)$ with objects the vertices of $G$, and whose morphisms between two vertices are the space of all paths in $G$. Given any category $\mathsf{C}$, we let $G(\mathsf{C})$ denote the graph defining $\mathsf{C}$, i.e. the graph whose vertices are all objects of $\mathsf{C}$ and whose arrows are all morphisms. The free category has the universal property that any morphism $F: G \to G(\mathsf{C})$ of graphs extends to a unique functor from $C(G)$ to $\mathsf{C}$. Thus $C$ and $G$ are adjoint pairs to one another, where $C$ is viewed as a functor from $\mathsf{Cat}$ to $\mathsf{Graph}$, and $G$ a functor from $\mathsf{Graph}$ to $\mathsf{Cat}$.

\begin{example}
    If $G$ is a graph with only a single vertex, and a single edge $e$, $C(G)$ consists of a single object, and the morphisms on $C(G)$ are $\text{id}$, $e$, $e^2$, and so on and so forth. More generally, given a set $X$ of edges on a single vertex, the free categories is just the construction of the free monoid on $X$.
\end{example}

If $\mathsf{C}$ is a category, and for any two objects $A$ and $B$ we have an equivalence relation $\sim$ on $\text{Mor}(A,B)$, then we can construct a `quotient' category $\mathsf{C}/\sim$, which is the initial object in the subcategory of $\mathsf{C} \downarrow \mathsf{Cat}$ consisting of functors $F: \mathsf{C} \to \mathsf{D}$ such that if $f \sim g$, $F(f) = F(g)$. If the equivalence relation composes well under functors, then we can construct such a category just by taking equivalence classes of functions. This is true, for instance, in the category {\sf Toph}, obtained from {\sf Top} by identifying homotopic maps, where if $f$ is homotopic to $g$, then $h \circ f$ is homotopic to $h \circ g$. In general, given the relation $\sim$, we extend it to the least relation such that if $f \sim g$, then $h \circ f \sim h \circ g$ and $f \circ h \sim g \circ h$ for any appropriate $h$, and then consider the resulting equivalence classes of functions.


\chapter{Limits and Adjoints}

One of the most useful properties of category theory is it's ability to unite various constructions in mathematics under the same properties by relating to these constructions to how they relate to the morphisms of the particular category one is working in. For instance, the product of sets, topological spaces, groups, are all easily seen `similar' to one another. They are instances of the \emph{product} of objects in a category. Less obvious is the fact that the free product of groups, the disjoint union of sets and topological spaces, and the direct sum of modules are similar. But when dealing with morphisms on these constructions, the ideas used are very similar; to define a continuous map with domain a disjoint union, it suffices to give a continuous map on each individual space. To define a morphism with domain the direct sum of modules, it suffices to give a morphism on each individual module. So these constructions are really quite similar. They are instances of the \emph{coproduct} of a family of objects in a category.

We first consider the most trivial construction in a category, which actually turns out to contain all other constructions once we consider the initial object in other categories. Let $\mathsf{C}$ be a category. An \emph{initial object} (or a universal repeller) $X$ in the category is an object such that for any other object $A$, there is a unique map $f: X \to A$. A \emph{final object} (or universal attractor) has unique maps $f: A \to X$ for any $A$. It is easy to see that any two initial or final objects in the same category are isomorphic, and what's more, the isomorphism between the two objects is unique.

\begin{example}
    The trivial group is both initial and final in the category of groups. Similarily, the trivial module is initial and final in the category of modules over a fixed ring. If we consider the category of rings not necessarily with identity, then the initial object is the zero ring, whereas the initial object in the category of rings with identity is the ring $\mathbf{Z}$ of integers.
\end{example}

\begin{example}
    The empty set is an initial object in the category of sets, and a singleton is a final object in this category. The same is true in the category of topological spaces and differentiable manifolds.
\end{example}

We say a category has a \emph{zero object} if it has an object which is both initial and final. If $0$ is a zero objects, then for any two objects $A$ and $B$ we can consider the \emph{zero map} $0: A \to 0 \to B$, which we can view as a trivial morphism between the two objects. For instance, one has trivial group homomorphisms between two groups $G$ and $H$ by mapping all elements of $G$ to the identity in $H$, which is obtained by the composition through the trivial group.

We shall describe other \emph{universal objects} in this section, which are objects satisfying some extremal functorial property. Most of the time, one can reduce the understanding of such objects as those which are initial or final in some category related to the original category we are studying.

\section{Universal Arrows}

We use comma categories to construct more general universal objects in categories. If $F: \mathsf{C} \to \mathsf{D}$ is a functor, and $A \in \mathsf{D}$, then a \emph{universal arrow} at $A$ is an initial object in $A \downarrow F$. That is, a universal arrow is a morphism $i: A \to F(X_0)$ for some object $X_0 \in \mathsf{D}$, such that for any other morphism $f: A \to F(X)$, there exists a unique morphism $t: X_0 \to X$ such that $f = F(t) \circ i$. These universal arrows give notions of `free generated' objects, adding structure to previous structure.

\begin{example}
    Consider the forgetful functor $F$ from {\sf Ab} to {\sf Set}. For any set $S$, we consider the free abelian group $\ZZ \langle S \rangle$. We then have a natural embedding map $i: S \to \ZZ \langle S \rangle$, and this is a universal object with respect to the functor $F$, for any map $f: S \to G$ extends to a unique morphism $t: \ZZ \langle S \rangle \to G$ such that $f = F(t) \circ i$. Similarily, the free module over some set $S$ is a universal arrow with respect to the forgetful functor from $\mathsf{Mod}_A$ to $\mathsf{Set}$.
\end{example}

\begin{example}
    The association of a the free category $C(G)$ to each graph $G$ is a universal arrow with respect to the forgetful functor from {\sf Cat} to {\sf Graph}.
\end{example}

\begin{example}
    The forgetful from functor from the category of fields to the category of integral domains has a universal arrow which is the field of quotients $K(A)$ to each integral domain $A$.
\end{example}

\begin{example}
    The forgetful functor from the category of complete metric spaces to metric spaces has a universal arrow which associates the completing of a metric space with each metric space.
\end{example}

Given a universal arrow $i: A \to F(X_0)$, for any object $X$ we obtain a bijection $\eta_X$ from $\text{Mor}(X_0,X)$ to $\text{Mor}(A,F(X))$ by mapping a morphism $f: X_0 \to X$ to $F(f) \circ i$. The fact that this is a bijection is precisely the statement of $i$ being a universal arrow. Moreover, this bijection is natural for if $f: X_1 \to X_2$ then for any $g: X_0 \to X_1$,
%
\[ \eta_{X_2}(f \circ g) = F(f \circ g) \circ i = F(f) \circ F(g) \circ i = F(f) \circ \eta_{X_1}(g).  \]
%
In short, this means $\eta_{X_2} \circ f_* = F(f)_* \circ \eta_{X_1}$. On the other hand, \emph{any} natural isomorphism $\eta: \text{Mor}(X_0,\cdot) \to \text{Mor}(A,F(\cdot))$ is induced by some universal arrow $i: A \to F(X_0)$. To obtain the arrow, it suffices to set $i = \eta_{X_0}(\text{id}_{X_0})$, and then naturality forces $\eta_X(f)$ to be $F(f) \circ i$ for each $f: X_0 \to X$. Thus we have a one-to-one correspondence between universal arrows from $A$ to $F(X_0)$ and natural isomorphisms between $\text{Mor}(X_0,\cdot)$ and $\text{Mor}(A,F(\cdot))$. In the next section, we introduce the Yoneda lemma, which is a more general way of expressing the correspondence we have just described.

\section{Yoneda Lemma}

Let $\mathsf{C}$ be a category. Each object $A$ in $\mathsf{C}$ induces a functor $H^A: \mathsf{C} \to \mathsf{Set}$, where $H^A(B) = \text{Hom}(A,B)$, and each morphism $f: B_1 \to B_2$ induces $f_*: \text{Mor}(A,B_1) \to \text{Mor}(A,B_2)$. this is known as the \emph{functor of points}. Given any morphism $f: A_1 \to A_2$, we obtain a \emph{natural transformation} $f^*$ from $H^{A_2}$ to $H^{A_1}$. Thus we obtain a natural contravariant functor from $\mathsf{C}$ to $[\mathsf{C}, \mathsf{Set}]$, which is called the \emph{Yoneda embedding}. The functor is faithful because we can recover $f$ from $f^*$ by considering $f^*|_{A_2}(\text{id}_{A_2})$.

\begin{theorem}[Yoneda]
    For any functor $F$ from $\mathsf{C}$ to {\sf Set}, we have a bijection
    %
    \[ \text{Nat}(\text{Hom}(A,\cdot),F) \cong F(A), \]
    %
    which is natural equivalence when both sides are considered as bifunctors from $\mathsf{C} \times [\mathsf{C},\mathsf{Set}]$ to {\sf Set}.
\end{theorem}
\begin{proof}
    Consider a natural transformation $\eta$ from $\text{Hom}(A,X)$ to $F$. Then we have for each object $X$ a map $\eta_X: \text{Mor}(A,X) \to F(X)$, and for each morphism $f: X \to Y$, and $g: A \to X$, $Ff(\eta_X(g)) = \eta_Y(f \circ g)$. Define $x = \eta_A(\text{id}_A) \in F(A)$. Then we know that for any $f: A \to X$,
    %
    \[ Ff(x) = Ff(\eta_A(\text{id})) = \eta_X(f \circ \text{id}) = \eta_X(f) \]
    %
    Thus $\eta_A(\text{id})$ uniquely determines the natural transformation for all elements of $\text{Mor}(A,X)$. Given any $x \in F(A)$, the equation $\eta_X(f) = Ff(x)$ is a natural transformation from $\text{Mor}(\cdot,A)$ to $F$, since then for any $f: X \to Y$, and $g: A \to X$,
    %
    \[ Ff(\eta_X(g)) = (Ff \circ Fg)(x) = F(f \circ g)(x) = \eta_Y(f \circ g) \]
    %
    For each functor $F$, and objects $A$ and $X$. Thus the correspondence really is a bijection. We now prove the association is natural. First, we prove naturality in $F$. Given a natural transformation $\psi$ between $F$ and some functor $G$, we obtain a square
    %
    \begin{center}
    \begin{tikzcd}
        \text{Nat}(\text{Hom}(A,\cdot),F) \arrow{d}{\psi_*} \arrow{r} & F(A) \arrow{d}{\psi_A} \\
        \text{Nat}(\text{Hom}(A,\cdot),G) \arrow{r} & G(A)
    \end{tikzcd}
    \end{center}
    %
    Let $\eta$ be a natural transformation between $\text{Hom}(A,\cdot)$ and $F$. Then we must show that $\psi_A(\eta_A(\text{id})) = (\psi_* \eta)_A(\text{id})$, which is precisely the definition of $\psi_*$. Thus the map is natural in $F$. Given a morphism $f: A \to B$, and a natural transformation $\eta$, between $\text{Hom}(A,\cdot)$ and $F$, which is a family of morphisms $\eta_X: \text{Hom}(A,X) \to F(X)$, we can define maps $f_*(\eta)_X: \text{Hom}(B,X) \to F(X)$ given by $f_*(\eta)_X(g) = \eta_X(g \circ f)$. We get a square
    %
    \begin{center}
    \begin{tikzcd}
        \text{Nat}(\text{Hom}(A,\cdot),F) \arrow{d}{f_*} \arrow{r} & F(A) \arrow{d}{F(f)} \\
        \text{Nat}(\text{Hom}(B,\cdot),F) \arrow{r} & F(B)
    \end{tikzcd}
    \end{center}
    %
    The fact that this diagram is natural follows precisely because $\eta$ is a natural transformation.
\end{proof}

\begin{corollary}
    Let $\mathsf{C}$ be a category containing two objects $A$ and $B$, then a natural transformation from $\text{Mor}(A,\cdot)$ to $\text{Mor}(B,\cdot)$ is of the form $f^*$ for a unique arrow $f: B \to A$. Thus the Yoneda embedding is a full and faithful functor.
\end{corollary}

We can of course consider things dually for the contravariant functors. We have a covariant embedding of $\mathsf{C}$ in $[\mathsf{C}^r, \mathsf{Set}]$ mapping an object $A$ to the functor $H_A$, where $H_A(B) = \text{Hom}(B,A)$. For any contravariant functor $F: \mathsf{C} \to \mathsf{Set}$ and any object $A$, we have a bijection
%
\[ \text{Nat}(\text{Mor}(\cdot,A),F) \cong F(A). \]
%
This implies that any natural transformation from $\text{Mor}(\cdot,A)$ to $\text{Mor}(\cdot,B)$ is of the form $f_*$ for a unique arrow $f: A \to B$.

The Yoneda lemma suggests that in order to understand the category $\mathsf{C}$, one should really study the category $[\mathsf{C}, \mathsf{Set}]$. New objects appear in this category that were hidden in $\mathsf{C}$, and treating these new object simultaneously is often useful to simplify theory.

\begin{example}
    Let $\mathsf{C}$ be a single object $X$ and such that every morphism is an isomorphism. Then $\mathsf{C}$ precisely describes the data of a group $G = \text{Mor}(X,X) = \text{Aut}(X,X)$, and a covariant functor from $\mathsf{C}$ to {\sf Set} is just an action of $G$ on a set $S$ in disguise. The map $h^X$ just maps $X$ to $\text{Aut}(X)$, and maps $x \in G$ to the action $x_*(y) = xy$. Thus the Yoneda lemma says that the $G$ morphisms from $h^X$ to $S$ is naturally in one to one correspondence with the elements of $S$. For each $s \in S$, we have the map $x \mapsto xs$, for $x \in \text{Aut}(x)$.
\end{example}

Let $\mathsf{C}$ be a category. Then the Yoneda lemma implies a natural transformation $\eta: F \to G$ in $[\mathsf{C},\mathsf{Set}]$ is a monomorphism if and only if $\eta_X$ is a monomorphism for each object $X$ in $\mathsf{C}$. If $\eta_X$ is a monomorphism for each object $X$ in $\mathsf{C}$, and $\alpha \circ \eta = \beta \circ \eta$, then $\alpha_X \circ \eta_X = \beta_X \circ \eta_X$ for each object $X$, implying $\alpha_X = \beta_X$ for each $X$, so $\alpha = \beta$. Conversely, suppose $\eta$ is a monomorphism between $F$ and $G$, and let $X$ be an object of $\mathsf{C}$. Then the diagram
%
\begin{center}
\begin{tikzcd}
    F(X) \arrow{d}{\eta_X} \arrow{r} & \text{Nat} \left( \text{Hom}(X,\cdot),F \right) \arrow{d}{\eta_*} \\
    G(X) \arrow{r} & \text{Nat} \left( \text{Hom}(X,\cdot),G \right)
\end{tikzcd}
\end{center}
%
commutes by the naturality of the Yoneda lemma. Since we know all maps but $\eta_X$ are injective, we know $\eta_X$ is injective. Thus $\eta_X$ is a monomorphism for each object $X$.

\begin{remark}
    This statement is \emph{not} true if $F$ and $G$ are arbitrary functors into a category $\mathsf{B}$ that is not equal to set. Let $\mathsf{C}$ be the category consisting of three objects $C_1$, $C_2$, and $C_3$, with four nonidentity homomorphisms $g,h: C_1 \to C_2$, $f: C_2 \to C_3$, and $k: C_1 \to C_3$. 
    %
    \begin{center}
    \begin{tikzcd}
        C_1 \arrow{dr}{k} \arrow[left,shift left=0.8ex]{r}{g} \arrow[right,shift right=0.8ex]{r}{h} & C_2 \arrow{d}{f} \\
            & C_3
    \end{tikzcd}
    \end{center}
    %
    We now consider the category $[\mathsf{2}, \mathsf{C}]$, whose elements can be associated with the arrows in $\mathsf{C}$, and whose natural transformations are pairs of maps between the heads and tails of the arrows forming commutative squares. In particular, there is only a single natural transformation from $\text{id}_{C_2}$ to $f$ corresponding to the pair $(\text{id}_{C_2}, f)$, which is a monomorphism, since there are only two natural transformations from $f$ to any other arrow; there is the identity natural transformation from $f$ to itself, and there is a natural transformation from $f$ to $\text{id}_{C_3}$ induced by the pair $(f,\text{id}_{C_3})$. Thus the pair $(\text{id}_{C_2},f)$ is trivially a monomorphism. On the other hand, $f$ is not a monomorphism, since $f \circ g = f \circ h$, but $g \neq h$.
\end{remark}

A covariant functor $F: \mathsf{C} \to \mathsf{Set}$ is said to be \emph{representable} if it is naturally isomorphic to one of the functors $\text{Hom}(A,\cdot)$ for some object $A \in \mathsf{C}$. Similarily, a contravariant functor is representable if is isomorphic to some $\text{Hom}(\cdot,A)$. The Yoneda lemma implies that a functor is representable by some object $A$ if and only if there exists $a \in F(A)$ such that for each object $X \in \mathsf{C}$ and each $x \in F(X)$, there exists a unique morphism $f: A \to X$ such that $x = Ff(a)$. Thus objects representing a functor satisfy a universal property, and are thus unique isomorphism. Representable functors are most useful because they reduce the study of a set valued functor $F$ to the study of a single object in the category we are interested in.

\begin{example}
    Consider any category $\mathcal{C}$, consider two objects $A$ and $B$, and consider the functor from $\mathcal{C}$ to $\mathsf{Set}$ mapping $C$ to $\text{Hom}(C,A) \times \text{Hom}(C,B)$. This functor is representable precisely when the \emph{product} of $A$ and $B$ exists, since $\text{Hom}(C,A \times B)$ is naturally isomorphic to $\text{Hom}(C,A) \times \text{Hom}(C,B)$. Similarily, the functor $C \mapsto \text{Hom}(A,C) \times \text{Hom}(B,C)$ is represented by a coproduct.
\end{example}

A covariant representable functor preserves monomorphisms. Suppose $f: X \to Y$ is a monomorphism. Then for any object $A \in \mathsf{C}$, $f_*: \text{Hom}(A,X) \to \text{Hom}(A,Y)$ is an injective map. Thus $f_*$ is a monomorphism in $\mathsf{Set}$. Now if $F$ is a representable functor, then we can find a natural isomorphism $\eta$ between $F$ and $\text{Hom}(A,\cdot)$. Thus $\eta_Y \circ F(f) = f_* \circ \eta_X$. Since $\eta_X$ is an isomorphism in $\mathsf{Set}$, it is injective, which implies $f_* \circ \eta_X$ is injective. But this means that $\eta_Y \circ F(f)$ is injective, and thus $F(f)$ is injective, hence a monomorphism. A similar argument shows that a contravariant representable functor maps epimorphisms to monomorphisms.

\section{Product and Coproducts}

Let us consider some further properties. Given two objects $A$ and $B$ in a category, we now describe the universal property of a \emph{product} object $A \times B$. It is an object canonically equipped with two morphisms $\pi_A: A \times B \to A$ and $\pi_B: A \times B \to B$, such that if $X$ is any object and $f: X \to A$ and $g: X \to A$ are two morphisms, there exists a unique map $f \times g: X \to A \times B$ such that $\pi_A \circ (f \times g) = f$ and $\pi_B \circ (f \times g) = g$, i.e. such that the diagram
%
\begin{center}
\begin{tikzcd}
    & X \arrow{d}{f \times g} \arrow{ld}[above]{f} \arrow{rd}{g} & \\
    A & A \times B \arrow{l}{\pi_A} \arrow{r}[below]{\pi_B} & B
\end{tikzcd}
\end{center}
%
commutes. Thus there is a bijection from $\text{Mor}(X,A \times B)$ to $\text{Mor}(X,A) \times \text{Mor}(X,B)$; moreover, this bijection is natural in $X$ by the Yoneda lemma since it is induced from an element of $\text{Mor}(A \times B, A) \times \text{Mor}(A \times B, B)$, namely, the pair of projection maps $\pi_A$ and $\pi_B$. To relate the construction of a product to a universal property, we consider the category of triples $(X,f,g)$, where $f: X \to A$ and $g: X \to B$, where a morphism between $(X_1,f_1,g_1)$ and $(X_2,f_2,g_2)$ is a morphism $t: X_1 \to X_2$ such that $f_2 \circ t = f_1$ and $g_2 \circ t = g_1$. Then $(A \times B, \pi_A, \pi_B)$ is a \emph{final object} in this category. In a very similar way, one can define the product of an arbitrary family of objects.

\begin{example}
    The normal cartesian product $A \times B$ is the product of $A$ and $B$ in the category of sets, which is easy to verify.
\end{example}

\begin{example}
    Given two groups $G$ and $H$, one canonically defines the product $G \times H$ to be the set of all tuples $(g,h)$, with $g \in G$ and $h \in H$, and with multiplication structure $(g,h)(x,y) = (gx,hy)$. The same trick works for products of rings, modules, vector spaces, and sets, where the associated operations are adjusted accordingly.
\end{example}

\begin{example}
    Given two affine varieties $V$ and $W$ contained in $K^n$ and $K^m$, the set $V \times W$ viewed as a subset of $K^{n+m}$ is naturally the product in the category of affine varieties, with $\pi_V(v,w) = v$ and $\pi_W(v,w) = w$. This follows if $V$ is defined by the ideal $I \subset K[x]$, and $W$ by $J \subset K[y]$, then $V \times W$ is the zero set of $K[x,y]I \oplus K[x,y]J$. It is obvious that if $f: X \to V$ and $g: X \to W$ is a polynomial map, $f \times g: X \to V \times W$ is a polynomial map, so this really is a product in the category of affine varieties.
\end{example}

\emph{Coproducts} are obtained from the above definition by reversing the arrows. We consider the category of objects $(X,f,g)$, where $f: A \to X$ and $g: B \to X$ are morphisms. A morphism between $(X_1,f_1,g_1)$ and $(X_2,f_2,g_2)$ is then a morphism from $X_1$ to $X_2$ causing the associated diagram to commute in the obvious way. An initial object in this category is the coproduct of $A$ and $B$, denoted $(A \amalg B, i_A, i_B)$. Given $f: A \to X$ and $g: B \to X$, we have a unique map $f \amalg g: A \amalg B \to X$, such that
%
\begin{center}
\begin{tikzcd}
    & X & \\
    A \arrow{ru}{f} \arrow{r}[below]{i_A} & A \amalg B \arrow{u}{} & B \arrow{l}{i_B} \arrow{lu}[above]{g}
\end{tikzcd}
\end{center}
%
As with products, we have a natural bijection from $\text{Mor}(A \amalg B,X) \to \text{Mor}(A,X) \times \text{Mor}(B,X)$. We may also take coproducts $\coprod A_\alpha$ of an arbitrary family of objects $\{ A_\alpha \}$.

\begin{example}
    If $A$ and $B$ are sets, then $A \amalg B$ can be constructed by taking $a_0 \in A \times \{ 0 \}$ and $b_1 \in B \times \{ 1 \}$, and considering $i_A(a) = a_0$ and $i_B(b) = b_1$. 
\end{example}

\begin{example}
    Given two groups, $G$ and $H$, the coproduct is the free product $G * H$, which is a quotient of the monoid of all finite words with elements in $G$ and $H$ (assumed disjoint) whose operation is concatenation. Consider the equivalence which identifies $(g,g')$ with $g * g'$, and $h * h'$ with $hh'$, and if $e$ is the identity in $G$, and $e'$ the identity in $H'$, then identify $e * h$ and $h * e$ with $h$, and $e' * g$ and $g * e'$ with $g$. Extend this to semigroup congruence. The monoid formed is the free product, and is a group, for $G * H$ is generated by $G \cup H$, and each $g \in G$ and $h \in H$ has an inverse in $G * H$. We have canonical embeddings $i_G: G \to G * H$ mapping $g$ to itself, and $i_H: H \to G * H$ mapping $h$ to itself.
\end{example}

\begin{example}
    Given two modules $M$ and $N$ over an abelian ring $R$, the coproduct is the direct sum $M \oplus N$, which is the set $M \times N$ (where $(m,n)$ is denoted $m \oplus n$) with operations $(m \oplus n) + (x \oplus y) = (m + x) \oplus (n + y)$.
\end{example}

\begin{example}
    For two commutative rings $A$ and $B$, we claim the \emph{coproduct} of $A$ and $B$ is the tensor product $A \otimes B$ of the two rings, where $i_A: A \to A \otimes B$ and $i_B: B \to A \otimes B$ are given by setting $i_A(a) = a \otimes 1$, and $i_B(a) = 1 \otimes a$. Given a commutative ring $R$ and two ring homomorphisms $f: A \to R$ and $g: B \to R$, we can consider the bilinear map $(a,b) \mapsto f(a)g(b)$. The universal tensor product then implies that there is a unique map $f \amalg g: A \otimes B \to R$ such that $f(a \otimes b) = f(a)g(b)$. But this unique map is precisely the unique map such that $(f \amalg g) \circ i_A = f$ and $(f \amalg g) \circ i_B = g$.
\end{example}

We note that for a product, the morphisms $\pi_A: A \times B \to A$ and $\pi_B : A \times B \to B$ are not necessarily always epimorphisms. For instance, in $\mathsf{Set}$, if $A$ is nonempty, then $A \times \emptyset = \emptyset$, and so $\pi_A: \emptyset \to A$ is not an epimorphism. Similarily, the inclusion maps into a coproduct need not be monomorphisms.

Products and Coproducts are the most basic constructions in category theory, but we have some other occasionally useful objects. Fix an object $Z$ in a category. A product of morphisms in the category $\mathsf{C} \downarrow Z$ is called a \emph{fibre product}, or \emph{pullback}. If $f: A \to Z$ and $g: B \to Z$, then the fibre product is an object $A \times_Z B$ together with morphisms $g': A \times_Z B \to A$ and $f': A \times_Z B \to B$ which is the final object  with respect to the diagram.
%
\begin{center}
\begin{tikzcd}
    & A \times_Z B \arrow{dd}{f \times_Z g} \arrow{ld}[above]{g'} \arrow{rd}{f'} & \\
    A \arrow{rd}[below]{f} & & B \arrow{ld}{g} \\
    & Z &
\end{tikzcd}
\end{center}
%
$g'$ is known as the pullback of $g$ along $f$, and $f'$ the pullback of $f$ along $g$. This commutative square above for a fibre product is often called a \emph{Cartesian square}. It is a useful fact that the composition of two Cartesian squares is also a Cartesian square. Similarily, if we have morphisms $X_1 \to Y$, $X_2 \to Y$, and $Y \to Z$, we have a natural commutative diagram
%
\begin{center}
\begin{tikzcd}
    & X_1 \times_Y X_2 \arrow{ld} \arrow{rd} & \\
    X_1 \times_Z X_2 \arrow{rd} & & Y \arrow{ld} \\
    & Y \times_Z Y &
\end{tikzcd}
\end{center}
%
This is a Cartesian diagram as well, often called the \emph{magic diagram}.

Similarily, we may consider \emph{fiber coproducts}, or \emph{pushouts}, the dual object, which is the coproduct of morphisms in the category $Z \downarrow \mathsf{C}$, satisfying the diagram
%
\begin{center}
\begin{tikzcd}
    & Z \arrow{ld}{f} \arrow{rd}{g} \arrow{dd}{f \coprod_Z g} & \\
    A \arrow{rd}{f'} & & B \arrow{ld}{g'}\\
    & A \coprod_Z B
\end{tikzcd}
\end{center}
%
More specifically, we have $f: Z \to A$ and $g: Z \to B$, and any family of maps $A \to C$ and $B \to C$ which causes the square of functions to commute factors through $A \coprod_Z B$. The maps $f'$ and $g'$ are known as the \emph{pushforwards} of $f$ and $g$.

\begin{example}
    Consider the category of sets. Given $f: A \to Z$ and $g: B \to Z$, the natural space is choose for $A \times_Z B$ is the subset of $A \times B$ consisting of $(a,b)$ such that $f(a) = g(b)$. Then $(f \times_Z g)(a,b) = f(a) = g(b)$. It is easy to see any such map into $A$ and $B$ which makes a required diagram commute factors uniquely through $A \times_Z B$. The normal product $A \times B$ does not satisfy the required property of the fibre product, since the factor might not be uniquely defined: the product space contains too much information. Conversely, a fibre coproduct in the category of sets, given $f: Z \to A$ and $g: Z \to B$, the fibre coproduct $A \coprod_Z B$ is the quotient of $A \coprod B$ obtained by identifying $f(z)$ with $g(z)$ for all $z \in Z$, so that the required inclusions $A \to A \coprod_Z B$ and $B \to B \coprod_Z B$ commute with $f$ and $g$. If $h_0: A \to C$ and $h_1: B \to C$ are such that $h_0 \circ f = h_1 \circ g$, then $h_0(f(z)) = h_1(g(z))$, so the maps from $A \coprod B$ to $C$ descend to a map from $A \coprod_Z B$ to $C$ uniquely. A special case is obtained when $Z$ consists of a single point, where $A \coprod_Z B$ is the wedge sum, obtained by identifying a point in $A$ and a point in $B$.
\end{example}

\begin{example}
    Pushouts also exist in $\mathsf{Grp}$, which for a pair of homomorphisms $f: G \to H_1$ and $g: G \to H_2$, then we consider the free group $H_1 * H_2$, modulo the smallest normal subgroup generated by $f(x) g(x)^{-1}$ for each $x \in G$. This is normally called the \emph{free product with amalgamation}.
\end{example}

\begin{example}
    Fibre products exist in the category of groups. Let $f: G \to K$ and $g: H \to K$ be two maps. Let $G \times_K H = \{ (x,y) \in G \times H : f(x) = g(y) \}$, and let $g'$ and $f'$ be the standard projections, then define
    %
    \[ f \times_K g = f \circ g' = g \circ f' \]
    %
    Let $\pi: L \to G$, $\rho: L \to H$, and $\psi: L \to K$ be three maps such that
    %
    \[ f \circ \pi = g \circ \rho = \psi \]
    %
    Then we may consider $\pi \times \rho: L \to G \times H$, and the image of $\pi \times \rho$ is contained in $G \times_K H$, for $f(\pi(x)) = g(\rho(x))$, hence we may consider $\pi \times_K \rho: L \to G \times_K H$, obtained by restricting the domain. This map is unique, for the product map is unique. The normal product $G \times H$ does not satisfy the property of $G \times_K H$, because there may not be globally definable morphisms $g'$ and $f'$ making the diagram commute. Fibred coproducts exist, as a natural quotient of the free product.
\end{example}

\begin{example}
    If $Z$ is a final object in the category, then $X \times_Z Y$ is precisely $X \times Y$. This is because given $f_X: X \to Z$ and $f_Y: Y \to Z$, and $g_X: A \to X$, $g_Y: A \to Y$, the universal property of the product implies there is a map $g: A \to X \times Y$, and the projections commute as desired because the final object makes the final commuting parts of the diagram trivial.
\end{example}

\begin{lemma}
    The pullback of a monomorphism is a monomorphism. Similarily, the pushforward of an epimorphism is an epimorphism. The pullback and pushforward of an isomorphism is an isomorphism.
\end{lemma}
\begin{proof}
    Let $f: A \to Z$ and $g: B \to Z$ are morphisms for which there exists pullbacks $f': A \times_Z B \to B$ and $g': A \times_Z B \to A$. It suffices to show that if $f$ is a monomorphism, then so too is $f'$. Consider two morphisms $u,v: X \to A \times_Z B$ such that $f' \circ u = f' \circ v$. Set $g'' = g' \circ u$ and $f'' = f' \circ u$. Then
    %
    \[ f \circ g'' = f \circ g' \circ u = g \circ f' \circ u = g \circ f''. \]
    %
    Thus $u$ is the unique factorization of $(g'',f'')$ through $(g',f')$. But $v$ is also a factorization of $(g'',f'')$ through $(g',g')$. Indeed,
    %
    \[ f'' = f' \circ u = f' \circ v \]
    %
    and
    %
    \[ f \circ g'' = f \circ g' \circ u = g' \circ f \circ u = g' \circ f \circ v = f \circ g' \circ v, \]
    %
    so the fact that $f$ is a monomorphism implies $g'' = g' \circ v$. By uniqueness, we conclude that $u = v$.

    If $f$ is an isomorphism, then the maps $g'' = f^{-1} \circ g$ and $f'' = \text{id}_B$ satisfy $f \circ g'' = g \circ f''$, and therefore there must exists a map $u: B \to A \times_Z B$ such that $g' \circ u = g''$ and $f' \circ u = f''$. The first equation says that $g' \circ u = f^{-1} \circ g$, and the second equation says that $f' \circ u = \text{id}_B$. But we also know that
    %
    \[ f' \circ u \circ f' = f'\quad\text{and}\quad g' \circ u \circ f' = f^{-1} \circ g \circ f' = f^{-1} \circ f \circ g' = g' \]
    %
    But by the pullback properties of $A \times_Z B$, this means that $u \circ f'$ is also the identity because $\text{id}$ is the only map $x$ on $A \times_Z B$ such that $f' \circ x = f'$ and $g' \circ x = g'$.
\end{proof}

On the other hand, the pullback of an epimorphism is not necessarily an epimorphism.

\begin{example}
    Fix a function $f:X \to Y$ which is not surjective, but whose image is dense in $X$. Fix $y_0 \in Y - f(X)$, and consider the map $i: \{ y_0 \} \to Y$. The pullback of $i$ and $f$ is the empty set, and the map $\emptyset \to Y$ is certainly not an epimorphism.
\end{example}

Given a morphism $f: A \to B$, the \emph{kernel pair} of a map $f$ is the pullback of $f$ with itself. Thus it is an object $A \times_Z A$ together with two maps $\alpha, \beta: A \times_Z A \to A$ such that $f \circ \alpha = f \circ \beta$, and this object is the final object with respect to this property.

\begin{lemma}
    If a kernel pair $\alpha,\beta: A \times_Z A \to A$ exists for a map $f: A \to B$, then $\alpha$ and $\beta$ are retractions, and in particular, are epimorphisms.
\end{lemma}
\begin{proof}
    Since $f \circ \text{id}_A = f \circ \text{id}_A$, there exists a homomorphism $\delta: A \to A \times_Z A$ such that $\alpha \circ \delta = \beta \circ \delta = \text{id}_A$. Thus $\alpha$ and $\beta$ are right invertible.
\end{proof}

\begin{lemma}
    In a category, the following are equivalent:
    %
    \begin{itemize}
        \item A morphism $f: A \to B$ is a monomorphism.
        \item A kernel pair exists for $f$ and is given by $(A,\text{id}_A, \text{id}_A)$.
        \item A kernel pair $\alpha,\beta: A \times_Z A \to A$ for $f$ exists and $\alpha = \beta$.
    \end{itemize}
\end{lemma}
\begin{proof}
    Clearly the nontrivial part of this equivalence is to show $f$ is a monomorphism if $\alpha = \beta$. So suppose that $u,v: X \to A$ are morhpisms such that $f \circ u = f \circ v$. Then there exists a morphism $k: X \to A \times_Z A$ such that $u = \alpha \circ k = \beta \circ k = v$, so $u = v$.
\end{proof}

A kernel pair commutes very nicely with coequalizers.

\begin{lemma}
    Let $\alpha,\beta: A \to B$ be maps, and suppose these maps have a coequalizer $t: B \to \text{Coker}(\alpha,\beta)$. If $t$ has a kernel pair $x,y: B \times_Z B \to B$, then the coequalizer of $x$ and $y$ exists, and in fact $\text{Coker}(x,y) = \text{Coker}(\alpha,\beta)$.
\end{lemma}
\begin{proof}
    It suffices to show that for any map $s: B \to X$ such that $s \circ x = s \circ y$, there exists a unique map $u: \text{Coker}(\alpha,\beta) \to X$ such that $s = u \circ t$. TODO
\end{proof}

Now suppose $\mathsf{C}$ is a category with a zero object. For any morphism $f: A \to B$, a \emph{kernel} is an object $\Ker(f)$ and a morphism $i: \Ker(f) \to A$ such that $f \circ i = 0$, and such that for any morphism $j: C \to A$ such that $f \circ j = 0$, there is a morphism $t: C \to \Ker(f)$ such that $j = i$. Such a morphism is clearly final in the subcategory of the comma category $\mathsf{C} \downarrow A$ consisting of maps which when composed with $f$ become zero. Similarily, a \emph{cokernel} for a map $f: A \to B$ is an object $\Coker(f)$ and a morphism $\pi: B \to \Coker(f)$ such that $\pi \circ f = 0$, and $\pi$ is initial with respect to all morphisms with this property.

\begin{example}
    In the category of groups, a kernel of a group homomorphism $f: G \to H$ is precisely the inclusion map of the subgroup
    %
    \[ \Ker(f) = \{ x \in G: f(x) = e \}. \]
    %
    Similar results hold in the category $\mathsf{Rng}$, $\mathsf{Mod}_A$, and most other algebraic structures.
\end{example}

\begin{example}
    Cokernels do not necessarily exist in the category of groups, but they do exist in the category $\mathsf{Mod}_A$ of modules. Indeed, given a homomorphism $f: M \to N$, we set $\Coker(f) = N/\text{Im}(N)$, and consider the resulting projection map $N \to \Coker(f)$.
\end{example}

In categories where we do not have zero objects, we must rely on different universal objects. An \emph{equalizer} for a pair of maps $f: A \to B$ and $g: A \to B$ is an object $\Ker(f,g)$ and a map $t: \Ker(f,g) \to A$ such that $f \circ t = g \circ t$, and $t$ is the \emph{final} object in the category of maps with this property. A \emph{coequalizer} for $f$ and $g$ is an object $\Coker(f,g)$ and a map $s: B \to \Coker(f,g)$ such that $s \circ f = s \circ g$, and $s$ is the initial object with this property.

\begin{example}
    In $\mathsf{Set}$, the equalizer always exists. Given $f: A \to B$ and $g: A \to B$, we set $\Ker(f,g) = \{ a \in A: f(a) = g(a) \}$, and let $t: \Ker(f,g) \to A$ is the inclusion map. A similar construction works in $\mathsf{Top}$. In $\mathsf{Ab}$, the equalizer of two homomorphisms $f$ and $g$ is the kernel of $f - g$.
\end{example}

\begin{example}
    In $\mathsf{Ab}$, the coequalizer of two homomorphisms $f$ and $g$ is the cokernel of $f - g$. In $\mathsf{Set}$, the coequalizers of two functions $f: A \to B$ and $g: A \to B$ is given by the projection map $\pi: B \to B/\sim$, where $\sim$ is the least equivalence relation such that $f(x) \sim g(x)$ for each $x \in A$.
\end{example}

If $f: A \to B$ and $g: A \to B$ are maps, and the equalizer $i: \Ker(f,g) \to A$ of $f$ and $g$ exists, then it is a monomorphism. Indeed, if $t,s: X \to \Ker(f,g)$, and $i \circ t = i \circ s$, then $f \circ i \circ t = f \circ i \circ u$. Since $\Ker(f,g)$ is a final object, there can only be a single morphism with this property, so $t = u$. Similarily, any coequalizier is an epimorphism.



\section{Colimits and Limits}

There is a wide generalization of the construction of these types of universal constructions which have a similar pattern. Fix a directed graph $G$ and some category $\mathsf{C}$, and associate with each vector $v$ in $G$ an object $A_v$ in $\mathsf{C}$, and with each edge $e$ from $v$ to $w$ a morphism $t_e: A_v \to A_w$.

Consider a category whose objects consist an object $B$ of $\mathsf{C}$ together with a family of morphisms $u_v: B \to A_v$ such that if $e$ connects $v$ to $w$, then $t_e \circ u_v = u_w$. A morphism between two such objects $(B_1,u^1)$ and $(B_2,u^2)$ is a morphism $f: B_1 \to B_2$ such that $u_v^2 \circ f = u_v^1$ for each vertex $v$. A final object in this category is called a \emph{limit}.

The advantage of this construction is that many different constructions can be summarized via this process. For instance, if $G$ is a graph with a single vertex and no edges, then the construction gives a final object in the category. If $G$ is a graph with two vertices and no edges, then the construction gives the product of two objects. If $G$ is a graph with three vertices, with two of the vertices mapping into the third, then we obtain the fibre product.

Similarily, if we consider the category whose objects consist of objects $B$ of $\mathsf{C}$ together with a family of morphisms $u_v: A_v \to B$, such that if $e$ connects $v$ to $w$, then $u_w \circ t_e = u_v$, and such that a morphism between two objects $(B_1,u^1)$ and $(B_2,u^2)$ is a morphism $f: B_1 \to B_2$ such that $f \circ u^1_v = u^2_v$, then an initial object in this category is called a \emph{colimit}. For the graphs in the previous paragraph, we get the initial object, coproduct, and cofibre product constructions respectively.








\section{Adjoint Functors}

Universal properties characterize objects in a category. Adjoint functors characterize functors. Two functors $F: \mathsf{C} \to \mathsf{D}$ and $G: \mathsf{D} \to \mathsf{C}$ are known as an \emph{adjoint pair} if, for each $A \in \mathsf{C}$ and $B \in \mathsf{D}$ there is a natural bijection between $\text{Mor}(F(A), B)$ and $\text{Mor}(A,G(B))$. $F$ is known as a left adjoint to $G$, and $G$ a right adjoint to $F$. The pair $(F,G)$ is then known as an adjunct pair.

The Yoneda lemma allows us to easily check that being a left or right adjoint to a particular functor defines a functor up to natural isomorphism. Indeed, if $\text{Mor}(F_1(A),B)$ and $\text{Mor}(F_2(A),B)$ are both naturally in bijection with $\text{Mor}(A,G(B))$, then clearly $\text{Mor}(F_2(A),B)$ is naturally in bijection with $\text{Mor}(F_1(A),B)$. In particular, the Yoneda lemma implies that for each obejct $A$, there is a morphism $\eta_A: F_1(A) \to F_2(A)$ such that the correspondence between $\text{Mor}(F_2(A),B)$ and $\text{Mor}(F_1(A),B)$ is given by $f \mapsto f \circ \eta_A$. Moreover, the collection of morhpisms $\{ \eta_A \}$ gives a natural transformation. The fact that the correspondence between $\text{Mor}(F_2(A,B)$ and $\text{Mor}(F_1(A),B))$ is a bijection implies $\eta_A$ is an epimorphism for each $A$, and that there is a map $\phi: F_2(A),F_1(A)$ such that $\phi \circ \eta_A = \text{id}_{F_1}$. But this implies that $\phi$ is the inverse of $\eta_A$ because $\eta_A \circ \phi \circ \eta_A = \eta_A$, so using the fact that $\eta_A$ is an epimorphism, we cancel out $\eta_A$ on the right to conclude $\eta_A \circ \phi = \text{id}_{F_2(A)}$. Thus $\eta_A$ is an isomorphism for each $A$, so that $\{ \eta_A \}$ is a natural equivalence between $F_1$ and $F_2$. A similar argument shows that any two right adjoints are naturally equivalent.

\begin{example}
    Recall that the tensor product $M \otimes N$ can be viewed as a functor in the arguments $M$ and $N$, where these objects range over $\mathsf{Mod}_A$. Indeed, if $f: M_1 \to M_2$ and $g: N_1 \to N_2$ are morphisms, we have a morphism from $M_1 \otimes N_1 \to M_2 \otimes N_2$ induced by the bilinear map $(x,y) \mapsto f(x) \otimes g(y)$. We then have a natural bijection between $\text{Mor}(M \otimes N, P)$ and $\text{Mor}(M, \text{Hom}(N,P))$, natural in all three variables. Note that $\text{Mor}(M,\text{Hom}(N,P))$ is easily see equivalent to the class of bilinear maps from $M \times N$ to $P$.

    We associate with each morphism $\phi: M \otimes N \to P$ the morphism from $M \to \text{Hom}(N,P)$ mapping each $x \in M$ to the morphism $\phi_x: N \to P$ such that $\phi_x(y) = \phi(x \otimes y)$. The inverse process follows because $\text{Mor}(M,\text{Hom}(N,P))$ can be viewed as the family of bilinear maps in $M$ and $N$. It is simple to verify that for each triple of maps $f: M_2 \to M_1$, $g: N_2 \to N_1$, and $h: P_1 \to P_2$, the associated diagram
    %
    \begin{center}
    \begin{tikzcd}
        \text{Hom}(M_1 \otimes N_1, P_1) \arrow{r} \arrow{d} & \text{Hom}(M_2 \otimes N_2,P_2) \arrow{d}\\
        \text{Hom}(M_1,\text{Hom}(N_1,P_1)) \arrow{r} & \text{Hom}(M_2,\text{Hom}(N_2,P_2))
    \end{tikzcd}
    \end{center}
    %
    commutes, so that the bijection is natural. It follows that for each fixed module $N$, the pair of functors $(\cdot \otimes N, \text{Hom}(N,\cdot))$ is an adjunction.
\end{example}

\begin{example}
    Given any morphism of rings $f: R \to S$ then we get a `restriction of scalars' functor from $\mathsf{Mod}_S$ to $\mathsf{Mod}_R$, where each $S$-module is an $R$-module under the map $r \cdot x = \phi(r) \cdot x$; we denote the $R$-module associated with an $S$-module $M$ by $f^*M$. Since $S$ can also be viewed as a right $R$-module, we also have an `extension of scalars' functor which associates with each $R$-module $M$ the $S$-module $f_* M = S \otimes_R M$; to give $M^S$ an operation of multiplication by $S$, we note that for each $s_0 \in S$, we have an $R$-bilinear map $S \times M \to S \otimes_R M$ given by $(s,x) \mapsto (s_0s) \otimes x$. Thus the operation
    %
    \[ s_0 \cdot \left( \sum_i s_i \otimes x_i \right) = \sum_i (s_0 s_i) \otimes x_i. \]
    %
    is well defined, and gives $f_* M$ and $S$-module structure. These morphisms constitute an adjoint pair. In particular, we have a bijection between
    %
    \[ \text{Hom}_S(f_* M,N) \cong \text{Hom}_R(M,f^*N). \]
    %
    where an $S$-linear map $\phi: f_* M \to N$ corresponds to an $R$-linear map from $M$ to $f^*N$ given by $x \mapsto \phi(1 \otimes x)$, which is $R$-linear since
    %
    \[ rx \mapsto \phi(1 \otimes rx) = \phi(f(r) \otimes x) = f(r) \cdot \phi(1 \otimes x). \]
    %
    Conversely, given an $R$-linear map $\phi: M \to f^* N$ we can define an $S$-bilinear map from $S \times M$ to $N$ given by $(s,x) \mapsto s \cdot \phi(x)$ which induces a map from $f_*(M)$ to $N$. It is easy to see this is the inverse to the previous correspondence, and that the correspondence is natural. Thus $(f_*, f^*)$ is an adjunct pair.
\end{example}

\begin{example}
    If $S$ is an abelian semigroup, one can consider the groupification $G_S$ of $S$, obtained by the equivalence relation on $S \times S$ by setting $(a,b) \sim (c,d)$ if $a + d = c + b$. Then we embed $S$ in $\text{Grp}(S)$ by the map $s \mapsto [s,0]$. If $f: S \to H$ is a homomorphism, we can define a homomorphism $f: \text{Grp}(S) \to H$ by defining $f[a,b] = f(a) - f(b)$, and this is the unique homomorphism extending the map on $S$ to $\text{Grp}(S)$. The map $\text{Grp}$ is a functor from the category of abelian semigroups to the category of abelian groups. The functor $F$ associating each abelian group $H$ with itself as an {\it abelian semigroup} (a forgetful functor) is then a right-adjoint to the groupification functor. We have a bijection between $\text{Hom}(\text{Grp}(S),H)$ and $\text{Hom}(S,H)$, because every homomorphism $\text{Grp}(S) \to H$ restricts to a homomorphism $S \to H$, and every homomorphism $S \to H$ extends to $\text{Grp}(S) \to H$. The adjoint property follows automatically.
\end{example}

Both of the examples above can be considered in the same family of left and right adjoints. In both situations, we `forget' some structure to an object. The existence of right adjoints to these forgetful functors allows us to construct additional structure out of an existing structure in a way that doesn't really increase the number of morphisms we have.

\chapter{Abelian Categories}

\section{Additive Category}

In many categories, we can consider arguments by diagram chasing. This works most nicely over categories with objects that `behave like abelian groups', or `behave like modules'. The axiomatic formulation studies a family of categories known as \emph{Abelian categories}. An \emph{additive category} is a category such that
%
\begin{itemize}
    \item For any two objects $A$ and $B$, $\text{Mor}(A,B)$ has the structure of an abelian group, such that addition distributes over composition.

    \item the category has finite products and coproducts, and the category has a \emph{zero object} $0$ (an object that is both initial and final).
\end{itemize}
%
In such a scenario, $\text{Mor}(A,B)$ is often denoted $\text{Hom}(A,B)$. The additivity implies that for each $f: A \to B$, the induced natural transformations
%
\[ f_*: \text{Hom}(\cdot,A) \to \text{Hom}(\cdot,B) \quad\text{and}\quad f^*: \text{Hom}(B,\cdot) \to \text{Hom}(A,\cdot) \]
%
act as homomorphisms of abelian groups.

Given two objects $A$ and $B$ in an additive category, we let $0 \in \text{Hom}(A,B)$ denote the additive identity in the group; if $i: A \to 0$ and $j: 0 \to B$ are the unique morphisms in and out of the zero object in the category, then we claim that $j \circ i = 0$. This is because
%
\[ (j \circ i) + (j \circ i) = (j + j) \circ i \]
%
and $j + j = j$, since there is a unique morphism from $0$ to $B$ for any object $B$. Subtracting gives the required identity.

Given two maps $f: A_1 \to B$ and $g: A_2 \to B$, the universal property of coproducts implies there is a unique map $f \oplus g: A_1 \oplus A_2 \to B$. Thus we have a map $(f,g) \mapsto f \oplus g$ from $\text{Hom}(A_1,B) \oplus \text{Hom}(A_2,B) \to \text{Hom}(A_1 \oplus A_2,B)$. This is actually a \emph{linear map} between the two groups. Consider $f_1,f_2 \in \text{Hom}(A_1,B)$ and $g_1,g_2 \in \text{Hom}(A_2,B)$. We will show
%
\[ (f_1 + f_2) \oplus (g_1 \oplus g_2) = (f_1 \oplus g_1) + (f_2 \oplus g_2). \]
%
To obtain this, let $i_1: A_1 \to A_1 \oplus A_2$ and $i_2: A_2 \to A_1 \oplus A_2$ are the inclusion maps given by the coproduct's universal property, then
%
\[ i_1((f_1 \oplus g_1) + (f_2 \oplus g_2)) = i_1(f_1 \oplus g_1) + i_1(f_2 \oplus g_2) = f_1 + f_2. \]
%
Similarily,
%
\[ i_2((f_1 \oplus g_1) + (f_2 \oplus g_2)) = i_2(f_1 \oplus g_1) + i_2(f_2 \oplus g_2) = g_1 + g_2. \]
%
But $(f_1 + f_2) \oplus (g_1 + g_2)$ is the \emph{unique map} with this property. Thus we obtain the identity. A very similar argument shows that
%
\[ \text{Hom}(A,B_1) \times \text{Hom}(A,B_2) \cong \text{Hom}(A,B_1 \times B_2) \]
%
where this bijection is actually an isomorphism of groups.

\begin{lemma}
    If $A_1, \dots, A_n$ are objects of an additive category, then
    %
    \[ A_1 \oplus \dots \oplus A_n \cong A_1 \times \dots \times A_n. \]
\end{lemma}
\begin{proof}
    Fix a product $A_1 \times \dots \times A_n$ and a coproduct $A_1 \oplus \dots \oplus A_n$ along with morphisms $\pi_k: A_1 \times \dots \times A_n \to A_k$ and $i_k: A_k \to A_1 \oplus \dots \oplus A_n$. There is a unique morphism
    %
    \[ u: A_1 \oplus \dots \oplus A_n \to A_1 \times \dots \times A_n \]
    %
    such that if $j_k = u \circ i_k$, then
    %
    \[ \pi_j \circ j_k = \begin{cases} \text{id}_{A_j} &: j = k \\ 0 &: j \neq k \end{cases}. \]
    %
    Note that this implies
    %
    \[ s = j_1 \circ \pi_1 + \dots + j_n \circ \pi_n = \text{id}_{A_1 \times \dots \times A_n} \]
    %
    since bilinearity implies that $\pi_i \circ s = \pi_i \circ j_i \circ \pi_i = \pi_i$ for each $i$, and $\text{id}_{A_1 \times \dots \times A_n}$ is the unique map with this property. We claim that together with the maps $\{ j_k \}$, the object $A_1 \times \dots \times A_n$ is a coproduct. Indeed, suppose that $f_k: A_k \to B$ are a family of morphisms. Then we get a map $f = f_1 \circ \pi_1 + \dots + f_n \circ \pi_n$ from $A_1 \times \dots \times A_n$ to $B$, and then by bilinearity,
    %
    \begin{align*}
        f \circ j_k &= (f_1 \circ \pi_1 \circ j_k) + \dots + (f_n \circ \pi_n \circ i_k)\\
        &= f_k \circ \pi_k \circ j_k = f_k.
    \end{align*}
    %
    Thus $f$ is the map required. It thus just suffices to verify that $f$ is unique. But this is obvious, because if $f'$ is any other map with this property, then $(f - f') \circ j_k = 0$ for each $k$, and so
    %
    \[ 0 = (f - f') \circ [(u \circ i_1) + \dots + (u \circ i_n)] = (f - f') \circ \text{id}_{A_1 \times \dots \times A_n} = f - f'. \]
    %
    Thus the map is unique.
\end{proof}

Since an additive category contains a zero object, we can consider kernels and cokernels. A map $f: A \to B$ is a monomorphism if and only if for each object $X$, the induced map
%
\[ f_*: \text{Hom}(X,A) \to \text{Hom}(X,B) \]
%
is injective. Since this is a homomorphism of abelian groups, this holds if and only if $f \circ g = 0$ if and only if $g = 0$. But this is equivalent to the kernel of the map $f$ being the zero object. Similarily, $f: A \to B$ is an epimorphism if and only if the cokernel is the zero object.

A functor $F: \mathsf{C}_1 \to \mathsf{C}_2$ between additive categories is called \emph{additive} if all of the associated maps $F: \text{Hom}(A,B) \to \text{Hom}(F(A),F(B))$ are homomorphisms of abelian groups.

\begin{theorem}
    Additive functors preserve products.
\end{theorem}
\begin{proof}
    Let $\mathsf{C}_1$ and $\mathsf{C}_2$ be additive categories, and let $F: \mathsf{C}_1 \to \mathsf{C}_2$ be an additive functor. Fix two objects $A,B \in \mathsf{C}_1$. Our goal is to argue that $F(A \times B)$ is isomorphic to $F(A) \times F(B)$. This follows because $F(\pi_A) \times F(\pi_B)$ is an isomorphism of $F(A \times B) \to F(A) \times F(B)$, whose inverse is $F(i_A) \oplus F(i_B)$.
\end{proof}

\section{Abelian Categories}

An \emph{abelian category} is category such that kernels and cokernels of any map exist, and such that for any monomorphism $f: A \to B$, $f$ is the kernel of it's cokernel. In particular, this implies any monomorphism is the kernel of some map. Abelian categories are the natural space to study cohomology theories, and most arguments in cohomology theory for modules can be reconstructed to cohomology arguments in general abelian categories.

For any abelian category $\mathsf{C}$ such that $\text{Hom}(A,B)$ is a set for any objects $A$ and $B$, there exists a (possibly non-commutative) ring $R$ and a full, faithful, and exact functor $F: \mathsf{C} \to \mathsf{Mod}_R$ is exact and fully faithful. This is the \emph{Freyd-Mitchell} embedding theorem. A consequence is that we can \emph{diagram chase} in $\mathsf{C}$, i.e. pretending like our objects are sets, and our morphisms are functions.

A \emph{sequence} is a family of objects $\{ A_i \}$, and maps $d_i: A_i \to A_{i+1}$. The sequence is called \emph{exact} if $d_{i+1} \circ d_i = 0$ for all $i$. A \emph{short exact sequence} is an exact sequence of the form
%
\[ 0 \to A \to B \to C \to 0. \]
%
Any exact sequence can be factored as a short exact sequence. Given an exact triple $A \to B \to C$ given by $\phi: A \to B$ and $\psi: B \to C$, we get exact sequences
%
\[ 0 \to \text{Ker}(\phi) \to A \to \text{Im}(\phi) \to 0 \]
%
If $H = \text{Ker}(\psi) / \text{Im}(\phi)$, the quotient being defined in $\mathsf{C}$ because of the existence of cokernels, we get
%
\[ 0 \to \text{Im}(\phi) \to \text{Ker}(\psi) \to H \to 0. \]
%
We have
%
\[ 0 \to \text{Im}(\phi) \to B \to \text{Coker}(\phi) \to 0 \]
%
and finally, we have
%
\[ 0 \to H \to \text{Coker}(\phi) \to \text{Im}(\psi) \to 0. \]
%
We also call an exact sequence a \emph{chain complex}. Given such a complex, we define the homology $H^i = \text{Ker}(d_{i-1}) / \text{Im}(d_i)$. Elements of $\text{Ker}(d_i)$ are called \emph{cycles}, and elements of $\text{Im}(d_i)$ are called \emph{boundaries}. Cohomology is given by the exact same setup, but with arrows going in the other direction. The homology groups then form additive covariant functors from the category of complexes over a fixed category $\mathsf{C}$ (which forms an abelian category, where the morphisms are those under which the differentials commute) into $\mathsf{C}$.

\begin{theorem}
    A short exact sequence
    %
    \[ 0 \to \mathcal{A} \to \mathcal{B} \to \mathcal{C} \to 0 \]
    %
    in the category of chain complexes over $\mathsf{C}$ induces a long exact sequence of homologies
    %
    \[ \cdots \to H^{i-1}(\mathcal{C}) \to H^i(\mathcal{A}) \to H^i(\mathcal{B}) \to H^i(\mathcal{C}) \to H^{i+1}(\mathcal{A}) \to \dots \]
\end{theorem}
\begin{proof}
    The morphism $H^i(\mathcal{A}) \to H^i(\mathcal{B})$ is induced by the morphism $\phi_i: A_i \to B_i$, since $d(\phi_i a) = \phi(da)$, so if $da = 0$, $d(\phi a) = 0$. The morphism $H^i(\mathcal{B}) \to H^i(\mathcal{C})$ is defined similarily. To define the morphism $H^i(\mathcal{C}) \to H^{i+1}(\mathcal{A})$, we apply the snake lemma. TODO: Details.
\end{proof}

\end{document}